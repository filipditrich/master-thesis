%%%%% Basic setup for one-sided printing:
%%%%% Margins: left 40mm, right 25mm, top and bottom 25mm (but beware, LaTeX adds 1in by itself)
%%%%% ---------------------------------------------------------------
\documentclass[12pt, a4paper]{report}
\usepackage{geometry}
\setlength\textwidth{145mm}
\setlength\textheight{247mm}
\setlength\oddsidemargin{15mm}
\setlength\evensidemargin{15mm}
\setlength\topmargin{0mm}
\setlength\headsep{0mm}
\setlength\headheight{0mm}
\newcommand{\openright}{\clearpage}

%%%%% Base setup for two-sided printing:
%%%%% ---------------------------------------------------------------
% \documentclass[12pt, a4paper, twoside, openright]{report}
% \setlength\textwidth{145mm}
% \setlength\textheight{247mm}
% \setlength\oddsidemargin{15mm}
% \setlength\evensidemargin{0mm}
% \setlength\topmargin{0mm}
% \setlength\headsep{0mm}
% \setlength\headheight{0mm}
% \let\openright=\cleardoublepage

%%%%% Czech language settings
%%%%% ---------------------------------------------------------------
% \usepackage[czech]{babel}
% \ifx\uv\undefined\newcommand{\uv}[1]{,,#1``}\fi
\usepackage [english]{babel}
\usepackage [autostyle, english = american]{csquotes}
\MakeOuterQuote{"}

%%%%% Preamble with settings and macros
%%%%% ---------------------------------------------------------------
\include{preamble}

%%%%% Hyperlinks setup
%%%%% ------------------------------------------------------------
\usepackage[unicode]{hyperref}
\hypersetup{pdftitle=Cashless festival data analysis and analytical dashboard development,
	pdfauthor=Bc. Filip Ditrich
	ps2pdf,
	colorlinks=true,
	urlcolor=black,
	linkcolor=black,
	citecolor=black,
	pdfstartview=FitH,
	pdfpagemode=UseOutlines,
	pdfnewwindow,
	breaklinks
}
\addto\extrasenglish{%
	\renewcommand{\chapterautorefname}{\textbf{Chapter}}
	\renewcommand{\sectionautorefname}{\textbf{Section}}
	\renewcommand{\subsectionautorefname}{\textbf{Subsection}}
	\renewcommand{\subsubsectionautorefname}{\textbf{Subsubsection}}
	\renewcommand{\figureautorefname}{\textbf{Figure}}
	\renewcommand{\tableautorefname}{\textbf{Table}}
	\newcommand{\listingautorefname}{\textbf{Source Code}}
}

%%%%% Bibliography setup
%%%%% ---------------------------------------------------------------
%\bibliographystyle{/Users/filipditrich/University/master_thesis/thesis/czplainnat.bst}
\bibliographystyle{unsrt}
\renewcommand{\bibname}{References}

%%%%% Table of contents setup
%%%%% ---------------------------------------------------------------
\usepackage[nottoc]{tocbibind}
\renewcommand{\listingscaption}{Source Code}
\renewcommand{\listoflistingscaption}{List of Source Codes}
\usepackage[titles]{tocloft}
\renewcommand\cftchapafterpnum{\vskip0pt}
\renewcommand\cftsecafterpnum{\vskip2pt}
\usepackage[toc,page]{appendix}
% \renewcommand{\appendixtocname}{Seznam pÅ™Ã­loh}
% \renewcommand{\appendixpagename}{Seznam pÅ™Ã­loh}

%%%%% Directories setup
%%%%% ---------------------------------------------------------------
\newcommand{\CoreFigures}{/figures}
\newcommand{\ThesisFigures}{./figures}
\newcommand{\ChartsDir}{./figures/charts}
\newcommand{\DataDir}{./figures/charts/data}

% TODO (HIGH prio):
%% - [] finish up dashboard implementation, prepare to submission format (add as appendix)
%% - [] prepare dashboard screenshots for Implementation Results section
%% - [] revise Introduction chapter â€“ formatting, corrections, and references
%% - [] revise Data Methodology chapter - formatting, corrections, and references
%% - [x] write Implementation chapter
%% - [x] write Conclusion chapter

% TODO (MEDIUM prio):
%% - [] revise Data Analysis and Results chapter - shorten, formatting, corrections, and references, improve wording
%% --- [] NOTE: KaÅ¾dÃ½ blok research question zakonÄujete frÃ¡zÃ­ typu: "answers to these question should provide valuable/detailed insights" obÄas to obmÄ›Åˆte
%% - [x] write the abstract and keywords

% TODO (LOW prio):
%% - [] revise all figures, tables, and charts - content correctness, graphical finalization, alignment, etc.
%% - [] overall revision - grammatical correctness and final visual adjustments (line breaks, indentation, new pages, etc.)
%% - [] add copy of the assignment PDF
%% - [] prepare the Extended Summary
%% - [x] update the acknowledgements

% TODO (backlog):
%% - [] improve KDD diagram and sankey charts if time allows
%% - [x] setup the structure and technical setup
%% - [x] FIX: references order is wrong somehow
%% - [x] FIX: Wrong RQ numbering - rename charts, match with the correct RQ nums (Customers Analysis+)
%% - [x] use acronyms or remove List of Acronyms

% TODO: Charts and figures list:
%% - [ğŸŸ¢] Figure 2.1: Top-Up Transactions by Payment Method                  -- hopefully ok
%% - [ğŸŸ¢] Figure 2.2: Sales of the Organizer vs. External Vendors            -- hopefully ok
%% - [ğŸŸ¢] Figure 2.3: Remaining Chip Balances Sankey Diagram                 -- hopefully OK
%% - [ğŸŸ¢] Figure 2.4: Breakdown of All Revenue Streams                       -- hopefully OK
%% - [ğŸŸ ] Figure 2.5: Overall Cash Flow Diagram                              -- improve coloring and fonts
%% - [ğŸŸ¢] Figure 2.6: Transactions Peaks                                     -- hopefully OK
%% - [ğŸŸ¢] Figure 2.7: Transaction Processing Times                           -- hopefully OK
%% - [ğŸŸ¢] Figure 2.8: Best Top-Up Points                                     -- hopefully OK
%% - [ğŸŸ¢] Figure 2.9: Best Products by Category                              -- hopefully OK
%% - [ğŸŸ¢] Figure 2.10: Returnable Cups                                       -- hopefully OK
%% - [ğŸŸ¢] Figure 2.11: Most Consumed Beer Brands                             -- hopefully OK
%% - [ğŸŸ¢] Figure 2.12: Visitor Arrival Patterns  							 -- hopefully OK
%% - [ğŸŸ¢] Figure 2.13: Credit Top-up Patterns During Event                   -- hopefully OK
%% - [ğŸŸ¢] Figure 2.14: Customer Distribution by Type         		         -- hopefully OK
%% - [ğŸŸ¢] Figure 2.15: Customer App Usage   							     -- hopefully OK
%% - [ğŸŸ¢] Figure 2.16: Bank Refunds Distribution                             -- hopefully OK
%% - [ğŸŸ¢] Figure 2.17: Card Schemes Distribution                             -- hopefully OK
%% - [ğŸŸ¢] Figure 2.18: Top-up Behavior Analysis                              -- hopefully OK
%% - [ğŸŸ¢] Figure 2.19: Beverage Preferences Throughout the Day               -- hopefully OK
%% - [ğŸŸ¢] Figure 2.20: Product Combinations (Including Returnable Cups)      -- hopefully OK
%% - [ğŸŸ¢] Figure 2.21: Product Combinations (Exlucing Returnable Cups)       -- hopefully OK

% Revision notes (23. 12. 2024)
%% - Ãšprava parÃ¡dnÃ­, dobÅ™e strukturovanÃ©. LÃ­bÃ­ se mi zvÃ½raznÄ›nÃ© zÃ¡sadnÃ­ pojmy, boxy Why is this important a jasnÃ© znaÄenÃ­ a zavedenÃ­ pojmÅ¯.
%% - DrobnÃ¡ slabina kapitoly jedna je, Å¾e je ponÄ›kud abstraktnÃ­ v tom smyslu, Å¾e mluvÃ­te o hromadÄ› krokÅ¯, kterÃ© vlastnÄ› nejsou nikde ukÃ¡zanÃ©. Ale hÃ¡dÃ¡m, Å¾e z podstaty prÃ¡ce s daty, kterÃ¡ musÃ­ zÅ¯stat skrytÃ¡, s tÃ­m nejde nic dÄ›lat. MÃ¡m dojem, Å¾e to vÃ­te, ale Å¾e jste odvedl dobrou prÃ¡ci tÃ­m, Å¾e jste to vynahradil celkem dÅ¯kladnÃ¡m popisem. Za mÄ› je to v poÅ™Ã¡dku, ale poÄÃ­tejte s tÃ­m, Å¾e do toho moÅ¾nÃ¡ bude nÄ›kdo rÃ½pat.
%% - Pozor na opakujÃ­cÃ­ se frÃ¡ze. NenÃ­ to zÃ¡sadnÃ­ chyba, ale pokud mÃ¡te v ÃºvodnÃ­ch a zÃ¡vÄ›reÄnÃ½ch odstavÃ­cÃ­ch Äasto podobnÃ© frÃ¡ze typu "was crucial for understanding", "provide useful insights", "this section focuses on" atd., pÅ™i souvislÃ©m ÄtenÃ­ to bije do oÄÃ­. VÅ¡imnete si toho, aÅ¾ si prÃ¡ci pÅ™eÄtete v kuse. DÅ¯leÅ¾itost a hodnotu insights jste stanovil v kapitole 1, takÅ¾e v kapitole 2 uÅ¾ bych ji moc neopakoval a soustÅ™edil se spÃ­Å¡ na vÃ½sledky. Tak ty frÃ¡ze obÄas pozmÄ›Åˆte, nebo vynechte. Low-priority.
%% - Ta results sekce je dlouhÃ¡. UÅ¾ v tÃ©hle fÃ¡zi mÃ¡ prÃ¡ce 77 stran. NebÃ¡l bych se to zkrÃ¡tit a vÃ½sledky spÃ­Å¡e shrnout. ZdÅ¯raznit nÄ›jakÃ© zÃ¡sadnÄ›jÅ¡Ã­ nebo zajÃ­mavÄ›jÅ¡Ã­ vÃ½sledky (tÅ™eba ty rozdÃ­ly v chovÃ¡nÃ­ rÅ¯znÃ½ch zÃ¡kaznÃ­kÅ¯), nebo takovÃ© vÃ½sledky, jejichÅ¾ zÃ­skÃ¡nÃ­ bylo nÄ›jak nestandardnÃ­ nebo obtÃ­Å¾nÃ© (tÅ™eba best vendor s ohledem na to, co znamenÃ¡ best). V tÃ© sekci totiÅ¾ mÃ¡te hromadu kapitol, kterÃ© majÃ­ v zÃ¡sadÄ› stejnou strukturu a mÃ¡te je sepsanÃ© stejnÃ½mi frÃ¡zemi (viz pÅ™edchozÃ­ bod). Zkondenzujte to - jeÅ¡tÄ› bude kapitola o dashboardu. Grafy dobrÃ©, tabulky dobrÃ©, krÃ¡tkÃ½ komentÃ¡Å™ dobrÃ½, mÃ­sty delÅ¡Ã­, ale celkovÄ› zredukovat. Ale nechte si to asi aÅ¾ nakonec, aÅ¥ tÃ­m teÄ pÅ™Ã­liÅ¡ neztrÃ¡cÃ­te Äas.
%% - HIGH-PRIORITY V prÃ¡ci nemÃ¡te vÅ¯bec Å¾Ã¡dnÃ© externÃ­ zdroje. JasnÄ›, vaÅ¡e prÃ¡ce je spÃ­Å¡ product development a data crunch neÅ¾ scientific research, ale tohle se obecnÄ› bude povaÅ¾ovat za problÃ©m. K tÄ›m samotnÃ½m vÃ½sledkÅ¯m a vÄ›cem, kterÃ© se pÅ™Ã­mo tÃ½kajÃ­ The Event a The Organizer samozÅ™ejmÄ› Å¾Ã¡dnÃ© zdroje mÃ­t nemÅ¯Å¾ete, ale napÅ™Ã­klad ke zvolenÃ½m metodÃ¡m analÃ½zy, nÄ›jakÃ© diskuzi tÃ© anonymizace, k volbÄ› nÃ¡strojÅ¯ atd. by to nÄ›co potÅ™ebovalo. NemusÃ­ toho bÃ½t moc, ale nÄ›co jo (nÄ›jakÃ½ch 10-15 zdrojÅ¯ by bylo fajn. K metodÃ¡m spÃ­Å¡e knihy, k nÃ¡strojÅ¯m lze sÃ¡hnout i po webech, ale ne osobnÃ­ blogy atd. PÅ™i diskuzi technickÃ½ch postupÅ¯ se lze odkazovat i na dokumentaci apod.)

% Revision notes (30. 12. 2024)
%% PoznÃ¡mky ke kapitole 3:
%% - SmÄ›r dobrÃ½, jdete k vÄ›ci - to je sprÃ¡vnÃ©. DobÅ™e, Å¾e jste se vÅ¯bec nepouÅ¡tÄ›l do vysvÄ›tlovÃ¡nÃ­ toho, jak funguje dash a plotly - od toho je dokumentace.
%% - To cachovÃ¡nÃ­ by chtÄ›lo trochu rozvÃ©st. UkÃ¡zky kÃ³du jsou v tomto pÅ™Ã­padÄ› asi celkem ospravedlnÄ›nÃ©, ale chtÄ›lo by to nÄ›jak vÃ­ce popsat, co se vlastnÄ› dÄ›je. PodobnÄ›, jak ve future directions zvaÅ¾ujete vyuÅ¾itÃ­ Celery a Redis, bylo by
%%   dobrÃ© vysvÄ›tlit proÄ (co to vlastnÄ› dÄ›lÃ¡ a proÄ to chcete). NemusÃ­ to bÃ½t nijak sloÅ¾itÃ©.
%% - Tenhle odstavec (str 84) je podle mÄ› trochu matoucÃ­: "This implementation led to cache key collisions, where callbacks with identical inputs were cached using the same key, resulting in incorrect cached data being returned." Jeden by
%%   Äekal, Å¾e callbacky s identickÃ½mi vstupy budou cachovÃ¡ny pod stejnÃ½m klÃ­Äem. Kde je chyba?

% Text revision notes
%% - [x] NOTE: In cooperation with the event organizer: I have chose a "not more undisclosed event organizer" (str 14) - je to sprÃ¡vnÄ›? NerozumÃ­m tomu.
%% - [x] NOTE: The Event definition: The Event takes place in theÂ beggingÂ (str 15)
%% - [x] NOTE: Cashflow and revenue: "these questions should provide currently unclear insights" - podivnÃ¡ formulace, nerozumÃ­m jÃ­
%% - [x] NOTE: RQ24: "how much only once" - nemÃ¡ to bÃ½t "how many"?
%% - [x] NOTE: Limitations: Anonymized data: ".which may limit certain the analysis in some ways" tu nÄ›co nesedÃ­ (str 20)
%% - [x] NOTE: Data and methodology: "This chapter address" => addresses
%% - [x] NOTE: Best Sale points: str. 50, pÅ™eposlednÃ­ odstavec: "Another interesting fact is the total unique users processed at the places" - tomu nerozumÃ­m - nechybÃ­ v tÃ© vÄ›tÄ› neco?
%% - [x] NOTE: "Out of total of 145 sale points, the best place was undeniable the L20 PIVNIÌ STAN 1" - tady jsem se rozesmÃ¡l. Je to dÅ¯leÅ¾itÃ©, ale zÃ¡roveÅˆ naprosto samozÅ™ejmÃ© zjiÅ¡tÄ›nÃ­.
%% - [x] NOTE: Na nÄ›kolika mÃ­stech zaÄÃ­nÃ¡te novou vÄ›tu (nikoliv otÃ¡zku) slovem "Which" (napÅ™. 2. odstavec sekce 2.2, 3. odstavec v introduction a moÅ¾nÃ¡ jeÅ¡tÄ› nÄ›kde). MÃ¡m dojem, Å¾e to angliÄtinÄ› nedovoluje - which je vztaÅ¾nÃ© zÃ¡jmenou a mÄ›lo by podle mÄ› uvozovat vedlejÅ¡Ã­ vÄ›tu v souvÄ›tÃ­. MoÅ¾nÃ¡ se mÃ½lÃ­m, ale pÅ™ipadÃ¡ mi to divnÃ©.

% Graphical revision notes (charts)
%% - [x] NOTE: Table 1.1: pÅ™eklep - coffe
%% - [x] NOTE: Figure 1.1: nevÃ­m, jestli je to jen u mÄ›, ale to schÃ©ma se mi renderuje v mizernÃ© kvalitÄ› na hranici Äitelnosti
%% - [x] NOTE: Figure 2.1: ZvaÅ¾te, jestli chcete tento typ grafu. Na donut chart to mÃ¡ trochu malou dÃ­ru, aÅ¾ to hraniÄÃ­ z pie chartem. Pie charts jsou lidovÄ› populÃ¡rnÃ­, ale datasci lidÃ© je nemajÃ­ rÃ¡di (z dobrÃ½ch dÅ¯vodÅ¯). Jako alternativy
%% se nabÃ­zÃ­ napÅ™. horizontÃ¡lnÃ­ barplot, treemap nebo waflle (aspoÅˆ myslÃ­m) diagram. Tohle je low-priority poznÃ¡mka. Å˜eÅ¡il bych to, aÅ¾ kdyÅ¾ nebudete mÃ­t co jinÃ©ho dÄ›lat. Pokud prÃ¡ci bude oponovat napÅ™. Karel Å afr, pravdÄ›podobnÄ› se u tÄ›chto grafÅ¯ zastavÃ­ ;)
%% - [x] NOTE: Figure 2.1: NechÃ¡te-li donut/pie chart, alespoÅˆ bych doplnil ta procenta do pÅ™idruÅ¾enÃ© tabulky.
%% - [x] NOTE: Str. 37: o tÄ›ch overfull boxes kvÅ¯li 3,471,543 CZK a 684,700 CZK asi vÃ­te.
%% - [x] NOTE: Figure 2.2: podle mÄ› mÃ­rnÄ› neÅ¡Å¥astnÃ½. Ty grafy vedle sebe se trochu Å¡patnÄ› porovnÃ¡vajÃ­. NavÃ­c kaÅ¾dÃ½ znich mÃ¡ jinou yscale, tj. vÃ½Å¡ka sloupce dobÅ™e nepÅ™enÃ¡Å¡Ã­ hodnotu. Organizer beer vypadÃ¡ na prvnÃ­ pohled stejnÄ› jako
%% external salty. SlouÄil bych je do jednoho, nejspÃ­Å¡ jako horizontÃ¡lnÃ­ barplot. KaÅ¾dÃ½ bar by odpovÃ­dal jednÃ© kategorii produktu, a mÄ›l by dvÄ› ÄÃ¡sti (tÅ™eba svÄ›tlou a tmavou danÃ© barvy), jednu reprezentujÃ­cÃ­ podÃ­l organizor vendors na prodeji proudktu, druhou podÃ­l external vendors. Tahle varianta vÃ­ce zdÅ¯razÅˆuje jejich rozdÃ­lnÃ© zastoupenÃ­ v katergoriÃ­ch. AlternativnÄ›, pokud byste chtÄ›l zdÅ¯raznit spÃ­Å¡e produktovÃ© sloÅ¾enÃ­ sales organizer vs. external, pÅ™edstavoval bych si dva horizontÃ¡lnÃ­ bars (organizer a external), kaÅ¾dÃ½ rozdÄ›lenÃ½ na sekce podle produktÅ¯. V tÃ©to druhÃ© variantÄ› bude navÃ­c lÃ©pe vidÄ›t podÃ­l organizer vs external na celkovÃ½ch sales. ZÃ¡leÅ¾Ã­ na tom, co chcete spÃ­Å¡e zdÅ¯raznit. NavÃ­c myslÃ­m, Å¾e non-alcoholic a beer jste oznaÄil stejnou barvou.
%% - [x] NOTE: Figure 2.3: souhlasÃ­m. Sankey diagram je cool, ale tady to zabÃ­jÃ­ dominantnÃ­ spent on sales vÄ›tev. NÄ›co jako waffle chart?
%% - [x] NOTE: Figure 2.4: tady imho ten donut/pie chart vadÃ­ ze vÅ¡eho nejmÃ©nÄ›, protoÅ¾e ta data jsou jednoduchÃ¡ a dobÅ™e ÄitelnÃ¡. Ale zvolil bych ho nakonec nÄ›jak konzistentnÄ› s pÅ™edchozÃ­mi grafy.
%% - [x] NOTE: Figure 2.5: asi stejnÄ› jako Figure 2.1
%% - [x] NOTE: Figure 2.6: super.
%% - [x] NOTE: Figure 2.7: velmi malÃ½ font, Å¡patnÄ› ÄitelnÃ©.
%% - [x] NOTE: Figure 2.8: to je hÃ¡dÃ¡m velmi WIP
%% - [x] NOTE: Figure 2.13 a 2.14: mÃ¡le pÃ­smo, Å¡patnÄ› ÄitelnÃ©.
%% - [x] Figure 2.4: nevÃ­m, co jsou Sel...
%% - [x] Figure 2.10: o nic nejde, ale tenhle graf vyboÄuje z barevnÃ©ho schÃ©matu, kterÃ© pouÅ¾Ã­vÃ¡te jinde
%% - [x] Figure 2.14: proÄ to nenÃ­ barplot, jako ostatnÃ­? UchÃ¡zÃ­ mi nÄ›co? NapÅ™. fig 2.16 zobrazuje stejnÃ½ typ dat -zobrazoval bych je stejnÄ›.
%% - [x] Figure 2.17: ten je dobrÃ½. KdyÅ¾ zbyde Äas, sjednotil bych barevnÃ© schÃ©ma s ostatnÃ­mi a trochu zvÃ½raznil ty nadpisy
%% - [x] Figure 2.20 a 2.21: nerozumÃ­m, co to zobrazuje. neumÃ­m si vÅ¯bec spojit obsah tabulky s temi barevnÃ½mi plochami. BuÄ vysvÄ›tlit, nebo nahradit (spÃ­Å¡e nahradit)


%%%%% Main document part
%%%%% ------------------------------------------------------------
\begin{document}
%%% title page
	\include{pages/hard-title} % FIXME: remove
	\include{pages/cover}
%%% TODO: copy of the assignment
%    \includepdf[pages={1}]{\ThesisFigures/zadani-zp.pdf}
%    \includepdf[pages={2}]{\ThesisFigures/zadani-zp.pdf}
%%% declaration
	\include{pages/statutory-declaration}
%%% acknowledgements
	\include{pages/acknowledgements}
%%% first page
	\include{pages/firstpage}
%%% abstract
	\include{pages/abstract}
%%% table of contents
	\newpage
	\pagestyle{plain}
	\tableofcontents
%%% chapters
	% chapter - introduction
	\input{pages/chapters/introduction}
	% chapter - methodology
	\input{pages/chapters/data-and-methodology}
	% chapter - data analysis and results
	\input{pages/chapters/data-analysis-and-results}
	% chapter - implementation of the analytical dashboard
	\input{pages/chapters/dashboard-implementation}
	% chapter - conclusion
	\input{pages/chapters/conclusion}
%%% bibliography
	\begin{flushleft}
		\bibliography{/Users/filipditrich/University/master_thesis/thesis/main,/Users/filipditrich/University/master_thesis/thesis/auto}
	\end{flushleft}
%%% list of figures
	\listoffigures
	\textit{Note: Unless stated otherwise, all figures are the author's own work.}
%%% list of tables
	\listoftables
%%% list of source codes
	\listoflistings
%%% appendix
	\input{pages/appendix}
%%% extended summary
	\addtocontents{toc}{\protect\contentsline{chapter}{Extended Summary}{}{}}
\end{document}
